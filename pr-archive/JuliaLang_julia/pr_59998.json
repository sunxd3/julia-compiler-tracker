{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/59998",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/59998/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/59998/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/59998/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/59998",
  "id": 3572652021,
  "node_id": "PR_kwDOABkWpM6wt11N",
  "number": 59998,
  "title": "Avoid hardcoding paths in Profile and Sys",
  "user": {
    "login": "nalimilan",
    "id": 1120448,
    "node_id": "MDQ6VXNlcjExMjA0NDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1120448?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nalimilan",
    "html_url": "https://github.com/nalimilan",
    "followers_url": "https://api.github.com/users/nalimilan/followers",
    "following_url": "https://api.github.com/users/nalimilan/following{/other_user}",
    "gists_url": "https://api.github.com/users/nalimilan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nalimilan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nalimilan/subscriptions",
    "organizations_url": "https://api.github.com/users/nalimilan/orgs",
    "repos_url": "https://api.github.com/users/nalimilan/repos",
    "events_url": "https://api.github.com/users/nalimilan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nalimilan/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 5,
  "created_at": "2025-10-30T22:08:33Z",
  "updated_at": "2025-12-17T11:18:56Z",
  "closed_at": "2025-11-08T09:52:22Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/59998",
    "html_url": "https://github.com/JuliaLang/julia/pull/59998",
    "diff_url": "https://github.com/JuliaLang/julia/pull/59998.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/59998.patch",
    "merged_at": "2025-11-08T09:52:22Z"
  },
  "body": "Current code fails when using custom paths. Save directory where Julia source is stored during build in `SOURCEDIR` instead of assuming it can be computed from `BINDIR` (new name chosen to avoid confusing with `build_dir` which is different). Use `DATAROOTDIR` and `DATAROOT`  instead of hardcoding `usr/share/` and `share/`.\r\n\r\nFix/continuation of #56601, #56627.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/59998/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/59998/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "7301ebbd268c7bf9bb7e94cb1af3c097206b20e7",
      "filename": "base/Makefile",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2FMakefile",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2FMakefile",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/base%2FMakefile?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -71,6 +71,7 @@ endif\n \t@printf \"%s\\n\" \"const PRIVATE_LIBDIR = \"$(call shell_escape,$(call julia_escape,$(call normalize_path,$(private_libdir_rel)))) >> $@\n \t@printf \"%s\\n\" \"const PRIVATE_LIBEXECDIR = \"$(call shell_escape,$(call julia_escape,$(call normalize_path,$(private_libexecdir_rel)))) >> $@\n \t@printf \"%s\\n\" \"const INCLUDEDIR = \"$(call shell_escape,$(call julia_escape,$(call normalize_path,$(includedir_rel)))) >> $@\n+\t@printf \"%s\\n\" \"const SOURCEDIR = \"$(call shell_escape,$(call julia_escape,$(call normalize_path,$(shell echo $(call cygpath_w,$(JULIAHOME)))))) >> $@\n ifeq ($(DARWIN_FRAMEWORK), 1)\n \t@printf \"%s\\n\" \"const DARWIN_FRAMEWORK = true\" >> $@\n \t@printf \"%s\\n\" \"const DARWIN_FRAMEWORK_NAME = \\\"$(FRAMEWORK_NAME)\\\"\" >> $@"
    },
    {
      "sha": "d17c7e9e1e02b1bbd4f1b80a31ab14ee56062ec5",
      "filename": "base/initdefs.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Finitdefs.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Finitdefs.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/base%2Finitdefs.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -97,7 +97,7 @@ const DEPOT_PATH = String[]\n function append_bundled_depot_path!(DEPOT_PATH)\n     path = abspath(Sys.BINDIR, \"..\", \"local\", \"share\", \"julia\")\n     path in DEPOT_PATH || push!(DEPOT_PATH, path)\n-    path = abspath(Sys.BINDIR, \"..\", \"share\", \"julia\")\n+    path = abspath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\")\n     path in DEPOT_PATH || push!(DEPOT_PATH, path)\n     return DEPOT_PATH\n end"
    },
    {
      "sha": "1cf9195ddfebba15f3a1802e231e73d7384b99c2",
      "filename": "base/methodshow.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Fmethodshow.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Fmethodshow.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/base%2Fmethodshow.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -140,7 +140,7 @@ function fixup_stdlib_path(path::String)\n         if isdefined(@__MODULE__, :Core) && isdefined(Core, :Compiler)\n             compiler_folder = dirname(String(Base.moduleloc(Core.Compiler).file))\n             if dirname(path) == compiler_folder\n-                return abspath(Sys.STDLIB, \"..\", \"..\", \"Compiler\", \"src\", basename(path))\n+                return abspath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"Compiler\", \"src\", basename(path))\n             end\n         end\n     end"
    },
    {
      "sha": "b77c312e3f2c93a96d1a70fe818476bfae68859d",
      "filename": "base/sysinfo.jl",
      "status": "modified",
      "additions": 3,
      "deletions": 5,
      "changes": 8,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Fsysinfo.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/base%2Fsysinfo.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/base%2Fsysinfo.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -42,7 +42,7 @@ export BINDIR,\n        which,\n        detectwsl\n \n-import ..Base: show\n+import ..Base: DATAROOTDIR, show\n \n \"\"\"\n     Sys.BINDIR::String\n@@ -56,12 +56,10 @@ global BINDIR::String = ccall(:jl_get_julia_bindir, Any, ())::String\n \n A string containing the full path to the directory containing the `stdlib` packages.\n \"\"\"\n-global STDLIB::String = \"$BINDIR/../share/julia/stdlib/v$(VERSION.major).$(VERSION.minor)\" # for bootstrap\n+global STDLIB::String = \"$BINDIR/$DATAROOTDIR/julia/stdlib/v$(VERSION.major).$(VERSION.minor)\" # for bootstrap\n # In case STDLIB change after julia is built, the variable below can be used\n # to update cached method locations to updated ones.\n const BUILD_STDLIB_PATH = STDLIB\n-# Similarly, this is the root of the julia repo directory that julia was built from\n-const BUILD_ROOT_PATH = \"$BINDIR/../..\"\n \n # helper to avoid triggering precompile warnings\n \n@@ -200,7 +198,7 @@ end\n function __init_build()\n     global BINDIR = ccall(:jl_get_julia_bindir, Any, ())::String\n     vers = \"v$(string(VERSION.major)).$(string(VERSION.minor))\"\n-    global STDLIB = abspath(BINDIR, \"..\", \"share\", \"julia\", \"stdlib\", vers)\n+    global STDLIB = abspath(BINDIR, DATAROOTDIR, \"julia\", \"stdlib\", vers)\n     nothing\n end\n "
    },
    {
      "sha": "9a2c2146b3d1b3d46bcf98b0ae677f06434b31a6",
      "filename": "doc/make.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/doc%2Fmake.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/doc%2Fmake.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/doc%2Fmake.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -25,7 +25,7 @@ end\n documenter_project_dir = joinpath(@__DIR__, \"..\", \"deps\", \"jlutilities\", \"documenter\")\n empty!(DEPOT_PATH)\n push!(DEPOT_PATH, joinpath(buildroot, \"deps\", \"jlutilities\", \"depot\"))\n-push!(DEPOT_PATH, abspath(Sys.BINDIR, \"..\", \"share\", \"julia\"))\n+push!(DEPOT_PATH, abspath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\"))\n using Pkg\n Pkg.activate(documenter_project_dir)\n Pkg.instantiate()"
    },
    {
      "sha": "9c568541ab7c0a5f9a7c3fa58ba800af29c41ae7",
      "filename": "doc/src/devdocs/EscapeAnalysis.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/doc%2Fsrc%2Fdevdocs%2FEscapeAnalysis.md",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/doc%2Fsrc%2Fdevdocs%2FEscapeAnalysis.md",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/doc%2Fsrc%2Fdevdocs%2FEscapeAnalysis.md?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -22,7 +22,7 @@ defines the convenience entries `code_escapes` and `@code_escapes` for testing a\n ```@repl EAUtils\n # InteractiveUtils.@activate Compiler # to use the stdlib version of the Compiler\n \n-let JULIA_DIR = normpath(Sys.BINDIR, \"..\", \"share\", \"julia\")\n+let JULIA_DIR = normpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\")\n     include(normpath(JULIA_DIR, \"Compiler\", \"test\", \"EAUtils.jl\"))\n     using .EAUtils\n end"
    },
    {
      "sha": "f4097a919c7bb63409977901a5b1e1b56f6a5572",
      "filename": "stdlib/CRC32c/test/runtests.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FCRC32c%2Ftest%2Fruntests.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FCRC32c%2Ftest%2Fruntests.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FCRC32c%2Ftest%2Fruntests.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -3,7 +3,7 @@\n using Test, Random\n using CRC32c\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :OffsetArrays) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"OffsetArrays.jl\"))\n using .Main.OffsetArrays: Origin\n "
    },
    {
      "sha": "8159b33574bd5ff64ab0c59ee917e0e6b9c1c555",
      "filename": "stdlib/Dates/test/io.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FDates%2Ftest%2Fio.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FDates%2Ftest%2Fio.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FDates%2Ftest%2Fio.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -5,7 +5,7 @@ module IOTests\n using Test\n using Dates\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n include(joinpath(BASE_TEST_PATH, \"testhelpers\", \"withlocales.jl\"))\n \n @testset \"string/show representation of Date\" begin"
    },
    {
      "sha": "4e56280024547e59f263a98730e1935cc8b0ffaf",
      "filename": "stdlib/LibGit2/test/libgit2-tests.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -7,7 +7,7 @@ using LibGit2_jll\n using Test\n using Random, Serialization, Sockets\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :ChallengePrompts) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"ChallengePrompts.jl\"))\n using .Main.ChallengePrompts: challenge_prompt as basic_challenge_prompt\n "
    },
    {
      "sha": "7c7e220a6c5bc7ff036bf4db12389921c45342f5",
      "filename": "stdlib/Profile/src/Profile.jl",
      "status": "modified",
      "additions": 8,
      "deletions": 9,
      "changes": 17,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FProfile%2Fsrc%2FProfile.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FProfile%2Fsrc%2FProfile.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FProfile%2Fsrc%2FProfile.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -538,8 +538,7 @@ function flatten(data::Vector, lidict::LineInfoDict)\n     return (newdata, newdict)\n end\n \n-const SRC_DIR = normpath(joinpath(Sys.BUILD_ROOT_PATH, \"src\"))\n-const COMPILER_DIR = \"../usr/share/julia/Compiler/\"\n+const SRC_DIR = normpath(Base.SOURCEDIR, \"src\")\n \n # Take a file-system path and try to form a concise representation of it\n # based on the package ecosystem\n@@ -548,17 +547,18 @@ function short_path(spath::Symbol, filenamecache::Dict{Symbol, Tuple{String,Stri\n     return get!(filenamecache, spath) do\n         path = Base.fixup_stdlib_path(string(spath))\n         path_norm = normpath(path)\n-        possible_base_path = normpath(joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"base\", path))\n+        possible_base_path = normpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"base\", path)\n         lib_dir = abspath(Sys.BINDIR, Base.LIBDIR)\n+        compiler_dir = normpath(Base.DATAROOT, \"julia\", \"Compiler/\")\n         if startswith(path_norm, SRC_DIR)\n             remainder = only(split(path_norm, SRC_DIR, keepempty=false))\n             return (isfile(path_norm) ? path_norm : \"\"), \"@juliasrc\", remainder\n         elseif startswith(path_norm, lib_dir)\n             remainder = only(split(path_norm, lib_dir, keepempty=false))\n             return (isfile(path_norm) ? path_norm : \"\"), \"@julialib\", remainder\n-        elseif contains(path, COMPILER_DIR)\n-            remainder = split(path, COMPILER_DIR, keepempty=false)[end]\n-            possible_compiler_path = normpath(joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"Compiler\", remainder))\n+        elseif startswith(path_norm, compiler_dir)\n+            remainder = split(path_norm, compiler_dir, keepempty=false)[end]\n+            possible_compiler_path = normpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"Compiler\", remainder)\n             return (isfile(possible_compiler_path) ? possible_compiler_path : \"\"), \"@Compiler\", remainder\n         elseif isabspath(path)\n             if ispath(path)\n@@ -586,11 +586,10 @@ function short_path(spath::Symbol, filenamecache::Dict{Symbol, Tuple{String,Stri\n         elseif isfile(possible_base_path)\n             # do the same mechanic for Base (or Core/Compiler) files as above,\n             # but they start from a relative path\n-            return possible_base_path, \"@Base\", normpath(path)\n+            return possible_base_path, \"@Base\", path_norm\n         else\n             # for non-existent relative paths (such as \"REPL[1]\"), just consider simplifying them\n-            path = normpath(path)\n-            return \"\", \"\", path # drop leading \"./\"\n+            return \"\", \"\", path_norm # drop leading \"./\"\n         end\n     end\n end"
    },
    {
      "sha": "9d925a7c3a0f943b03d63beab2c1ebcba753c5ac",
      "filename": "stdlib/REPL/src/precompile.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Fsrc%2Fprecompile.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Fsrc%2Fprecompile.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Fsrc%2Fprecompile.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -7,7 +7,7 @@ import ..REPL\n # Ugly hack for our cache file to not have a dependency edge on the FakePTYs file.\n Base._track_dependencies[] = false\n try\n-    Base.include(@__MODULE__, joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\", \"testhelpers\", \"FakePTYs.jl\"))\n+    Base.include(@__MODULE__, joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\", \"testhelpers\", \"FakePTYs.jl\"))\n     @Core.latestworld\n     import .FakePTYs: open_fake_pty\n finally"
    },
    {
      "sha": "27e03cdc2da74fcc3e9b3dbc3f76d356a5c2fa7f",
      "filename": "stdlib/REPL/test/bad_history_startup.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Fbad_history_startup.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Fbad_history_startup.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Ftest%2Fbad_history_startup.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -4,7 +4,7 @@\n \n using Test\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :FakePTYs) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"FakePTYs.jl\"))\n import .Main.FakePTYs: with_fake_pty\n "
    },
    {
      "sha": "57b6b27be6e7cdfb93a3c4b544098fe91d984e6d",
      "filename": "stdlib/REPL/test/precompilation.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Fprecompilation.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Fprecompilation.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Ftest%2Fprecompilation.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -2,7 +2,7 @@\n ## Tests that compilation in the interactive session startup are as expected\n \n using Test\n-Base.include(@__MODULE__, joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\", \"testhelpers\", \"FakePTYs.jl\"))\n+Base.include(@__MODULE__, joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\", \"testhelpers\", \"FakePTYs.jl\"))\n import .FakePTYs: open_fake_pty\n \n if !Sys.iswindows()"
    },
    {
      "sha": "b93c3371306b69c1719d687160fcb75634ec51b4",
      "filename": "stdlib/REPL/test/repl.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Frepl.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FREPL%2Ftest%2Frepl.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Ftest%2Frepl.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -11,7 +11,7 @@ empty!(Base.Experimental._hint_handlers) # unregister error hints so they can be\n \n @test Base.REPL_MODULE_REF[] === REPL\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :FakePTYs) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"FakePTYs.jl\"))\n import .Main.FakePTYs: with_fake_pty\n "
    },
    {
      "sha": "55cbf02f6ad9df0194539e6c279e8803feac991e",
      "filename": "stdlib/Random/test/runtests.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FRandom%2Ftest%2Fruntests.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FRandom%2Ftest%2Fruntests.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FRandom%2Ftest%2Fruntests.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -3,7 +3,7 @@\n using Test, SparseArrays\n using Test: guardseed\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :OffsetArrays) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"OffsetArrays.jl\"))\n using .Main.OffsetArrays\n "
    },
    {
      "sha": "1d4bd81e4b75f5f194fec386604337c4161730e0",
      "filename": "stdlib/SharedArrays/test/runtests.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FSharedArrays%2Ftest%2Fruntests.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/stdlib%2FSharedArrays%2Ftest%2Fruntests.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FSharedArrays%2Ftest%2Fruntests.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -1,7 +1,7 @@\n # This file is a part of Julia. License is MIT: https://julialang.org/license\n \n using Test, Distributed, SharedArrays, Random\n-include(joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\", \"testenv.jl\"))\n+include(joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\", \"testenv.jl\"))\n \n # These processes explicitly want to share memory, we can't have\n # them in separate rr sessions"
    },
    {
      "sha": "48a4144a3dc53e8749d285d75490d717740de87b",
      "filename": "test/buildkitetestjson.jl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/test%2Fbuildkitetestjson.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/test%2Fbuildkitetestjson.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/test%2Fbuildkitetestjson.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -88,14 +88,14 @@ end\n # to be able to identify the file. Also convert Windows-style paths to Unix-style paths so tests can\n # be grouped by file.\n const generalize_file_paths_cache = Dict{AbstractString,AbstractString}()\n-const norm_build_root_path = normpath(Sys.BUILD_ROOT_PATH)\n+const norm_sourcedir = normpath(Base.SOURCEDIR)\n const bindir_dir = dirname(Sys.BINDIR)\n const pathsep = Sys.iswindows() ? '\\\\' : '/'\n function generalize_file_paths(path::AbstractString)\n     return get!(generalize_file_paths_cache, path) do\n         path = replace(path,\n             Sys.STDLIB => \"stdlib\",\n-            string(norm_build_root_path, pathsep) => \"\",\n+            string(norm_sourcedir, pathsep) => \"\",\n             string(bindir_dir, pathsep) => \"\"\n         )\n         @static if Sys.iswindows()"
    },
    {
      "sha": "996471c5b3830945fd78197f004b8117e4c2b2ff",
      "filename": "test/secretbuffer.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/JuliaLang/julia/blob/7419b1ad4977a99998b3dc7ab9110d3eab028cff/test%2Fsecretbuffer.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/7419b1ad4977a99998b3dc7ab9110d3eab028cff/test%2Fsecretbuffer.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/test%2Fsecretbuffer.jl?ref=7419b1ad4977a99998b3dc7ab9110d3eab028cff",
      "patch": "@@ -1,6 +1,6 @@\n # This file is a part of Julia. License is MIT: https://julialang.org/license\n \n-const BASE_TEST_PATH = joinpath(Sys.BINDIR, \"..\", \"share\", \"julia\", \"test\")\n+const BASE_TEST_PATH = joinpath(Sys.BINDIR, Base.DATAROOTDIR, \"julia\", \"test\")\n isdefined(Main, :ChallengePrompts) || @eval Main include(joinpath($(BASE_TEST_PATH), \"testhelpers\", \"ChallengePrompts.jl\"))\n using .Main.ChallengePrompts: challenge_prompt\n "
    }
  ]
}