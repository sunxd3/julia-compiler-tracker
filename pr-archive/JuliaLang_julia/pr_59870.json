{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/59870",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/59870/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/59870/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/59870/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/59870",
  "id": 3524600481,
  "node_id": "PR_kwDOABkWpM6uOyC_",
  "number": 59870,
  "title": "Move JuliaSyntax + JuliaLowering into the main tree",
  "user": {
    "login": "c42f",
    "id": 601473,
    "node_id": "MDQ6VXNlcjYwMTQ3Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/601473?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/c42f",
    "html_url": "https://github.com/c42f",
    "followers_url": "https://api.github.com/users/c42f/followers",
    "following_url": "https://api.github.com/users/c42f/following{/other_user}",
    "gists_url": "https://api.github.com/users/c42f/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/c42f/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/c42f/subscriptions",
    "organizations_url": "https://api.github.com/users/c42f/orgs",
    "repos_url": "https://api.github.com/users/c42f/repos",
    "events_url": "https://api.github.com/users/c42f/events{/privacy}",
    "received_events_url": "https://api.github.com/users/c42f/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4232017300,
      "node_id": "LA_kwDOABkWpM78P3WU",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/don't%20squash",
      "name": "don't squash",
      "color": "ff4500",
      "default": false,
      "description": "Don't squash merge"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 43,
  "created_at": "2025-10-17T05:41:20Z",
  "updated_at": "2025-11-16T13:27:15Z",
  "closed_at": "2025-11-14T19:15:55Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/59870",
    "html_url": "https://github.com/JuliaLang/julia/pull/59870",
    "diff_url": "https://github.com/JuliaLang/julia/pull/59870.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/59870.patch",
    "merged_at": "2025-11-14T19:15:55Z"
  },
  "body": "There's been some interest in having the new Julia compiler frontend (JuliaSyntax + JuliaLowering) in the main Julia tree so that these are easier to work on together and so the new lowering code can co-evolve with changes to Core more easily.\r\n\r\nHere's a simple sketch for moving both these libraries into the main tree as separate top level modules in the JuliaSyntax and JuliaLowering subdirectories. For git history, I've used`git-filter-repo` to rewrite the history of both repositories into their respective subdirectories. At the same time some light rewriting was performed to avoid confusion for commit messages referring to issue numbers.  For example, if a commit in the JuliaSyntax history refers to #256, that will be rewritten to the string JuliaLang/JuliaSyntax.jl#256.  (Note for completeness that the history of these projects also includes the git history of Tokenize.jl which is the origin of the lexer.)\r\n\r\nThere's a few questions / TODOs I'd like to consider before merging this:\r\n\r\n### How do we do CI of JuliaSyntax against old Julia versions?\r\n\r\nJuliaSyntax currently supports Julia versions back to 1.0 (!!) Admittedly this may be excessive, but we should keep the JuliaSyntax registered in General working for at least some older Julia versions.\r\n\r\nThe problem is I know very little about how to set this up and I'd like advice or help :) @IanButterworth I can see you're active with both build kite and github actions infrastructure - I hoped you might have some thoughts or be able to point me in the right direction? Presumably we download pre-built versions from `julialang-s3.julialang.org` and test the JuliaSyntax module against those in addition to the current dev version of Julia.\r\n\r\n### Easing the archiving of JuliaLang/JuliaSyntax\r\n\r\nThere's enough open PRs on JuliaSyntax that it'd be nice to make migrating those to the main Julia repository easy. My rough plan is to filter all branches while running `git-filter-repo` and push those filtered branches to JuliaLang/JuliaSyntax. Then PR authors should be able to grab the filtered version of their branch and apply it to the main Julia repo without issues.  I haven't figured out the details of this yet but it should be done in one `git-filter-repo` run to ensure consistency of version hashes.\r\n\r\nWhen this is done I'll also move c42f/JuliaLowering.jl into JuliaLang/JuliaLowering.jl and archive it so there's a more permanent home for the associated github issue and PR discussions.\r\n\r\n### What should these modules be called?\r\n\r\nI hesitate to bring this up because it might become a distraction. But if we want to rename either of these modules it makes sense to do it now while we're moving git histories around.\r\n\r\nOriginally, `JuliaSyntax` was named that way because there was a very old and obsolete `JuliaParser` already taking the name, and the prefix \"Julia\" was used for clarity given that it was going into the General registry. (Also, the parser work was started as an experimental side project and taking a canonical name seemed rather too bold :sweat_smile:) If we want to claim a more canonical name at this point we might consider renaming it to `Parser`.  (Of course we could take `JuliaParser` as a name, but that seems marginal enough that we may as well stick with the existing name.)\r\n\r\n`JuliaLowering` was named with the same convention but if we change the JuliaSyntax name to just Parser we might also consider renaming JuliaLowering to something like `Lowering` or `CodeLowering`.  `CompilerFrontend` is also a tempting name but not including the parser in the \"compiler frontend\" would be a bit weird.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/59870/reactions",
    "total_count": 21,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 10,
    "confused": 0,
    "heart": 10,
    "rocket": 1,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/59870/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0
}