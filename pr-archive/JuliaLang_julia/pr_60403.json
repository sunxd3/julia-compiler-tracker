{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60403",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60403/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60403/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60403/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60403",
  "id": 3738673284,
  "node_id": "PR_kwDOABkWpM65W-rx",
  "number": 60403,
  "title": "JuliaSyntax:force specialize on function in `parse_brackets`",
  "user": {
    "login": "KristofferC",
    "id": 1282691,
    "node_id": "MDQ6VXNlcjEyODI2OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1282691?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KristofferC",
    "html_url": "https://github.com/KristofferC",
    "followers_url": "https://api.github.com/users/KristofferC/followers",
    "following_url": "https://api.github.com/users/KristofferC/following{/other_user}",
    "gists_url": "https://api.github.com/users/KristofferC/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KristofferC/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KristofferC/subscriptions",
    "organizations_url": "https://api.github.com/users/KristofferC/orgs",
    "repos_url": "https://api.github.com/users/KristofferC/repos",
    "events_url": "https://api.github.com/users/KristofferC/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KristofferC/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 7980098453,
      "node_id": "LA_kwDOABkWpM8AAAAB26ajlQ",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/backport%201.12",
      "name": "backport 1.12",
      "color": "5CAAA4",
      "default": false,
      "description": "Change should be backported to release-1.12"
    },
    {
      "id": 9546926682,
      "node_id": "LA_kwDOABkWpM8AAAACOQqKWg",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/backport%201.13",
      "name": "backport 1.13",
      "color": "699295",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 6,
  "created_at": "2025-12-17T12:20:13Z",
  "updated_at": "2025-12-17T17:56:24Z",
  "closed_at": "2025-12-17T17:56:23Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60403",
    "html_url": "https://github.com/JuliaLang/julia/pull/60403",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60403.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60403.patch",
    "merged_at": "2025-12-17T17:56:23Z"
  },
  "body": "Brings over https://github.com/JuliaLang/JuliaSyntax.jl/pull/601 here now that the repo has moved. But we need this on 1.13 (and 1.12) as well.\r\n\r\nWithout this the REPL becomes very laggy after loading GLMakie:\r\n\r\n```\r\n#= 3586.0 ms =# precompile(Tuple{typeof(REPL.LineEdit.refresh_multi_line), Base.Terminals.TerminalBuffer, Base.Terminals.UnixTerminal, Union{REPL.LineEdit.PrefixSearchState, REPL.LineEdit.PromptState}}) # recompile\r\n```\r\n\r\nEven though the function is directly called in the function body, I think the fact that there is a default argument prevents specialization from happening. To elaborate:\r\n\r\n```\r\ng(f, x=1) = f(..., x)\r\n```\r\n\r\nis rewritten internally as:\r\n\r\n```\r\ng(f, x) = f(..., x)\r\ng(f) = g(f, 1)\r\n```\r\n\r\nnow, the second generated method does not call `f` directly so it will heuristically be despecialized.\r\n",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60403/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60403/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "6809ed81c7eb0240b6a0f9307b9f428f14db41db",
      "filename": "JuliaSyntax/src/julia/parser.jl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/JuliaLang/julia/blob/c4eeca783a6af42ad7b8c78f9c77d76daa6fc59a/JuliaSyntax%2Fsrc%2Fjulia%2Fparser.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/c4eeca783a6af42ad7b8c78f9c77d76daa6fc59a/JuliaSyntax%2Fsrc%2Fjulia%2Fparser.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/JuliaSyntax%2Fsrc%2Fjulia%2Fparser.jl?ref=c4eeca783a6af42ad7b8c78f9c77d76daa6fc59a",
      "patch": "@@ -3189,8 +3189,8 @@ end\n # (a,b=1; c,d=2; e,f=3)  ==>  (tuple-p a (= b 1) (parameters c (= d 2)) (parameters e (= f 3)))\n #\n # flisp: parts of parse-paren- and parse-arglist\n-function parse_brackets(after_parse::Function,\n-                        ps::ParseState, closing_kind, generator_is_last=true)\n+function parse_brackets(after_parse::F,\n+                        ps::ParseState, closing_kind, generator_is_last=true) where {F}\n     ps = ParseState(ps, range_colon_enabled=true,\n                     space_sensitive=false,\n                     where_enabled=true,"
    }
  ]
}