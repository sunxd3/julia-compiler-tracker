{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60035",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60035/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60035/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60035/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60035",
  "id": 3585544078,
  "node_id": "PR_kwDOABkWpM6xXaYo",
  "number": 60035,
  "title": "libgit2/test: Handle a partially broken openssl install",
  "user": {
    "login": "Keno",
    "id": 1291671,
    "node_id": "MDQ6VXNlcjEyOTE2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1291671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Keno",
    "html_url": "https://github.com/Keno",
    "followers_url": "https://api.github.com/users/Keno/followers",
    "following_url": "https://api.github.com/users/Keno/following{/other_user}",
    "gists_url": "https://api.github.com/users/Keno/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Keno/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Keno/subscriptions",
    "organizations_url": "https://api.github.com/users/Keno/orgs",
    "repos_url": "https://api.github.com/users/Keno/repos",
    "events_url": "https://api.github.com/users/Keno/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Keno/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-11-04T09:17:26Z",
  "updated_at": "2025-11-06T22:24:18Z",
  "closed_at": "2025-11-06T22:24:16Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60035",
    "html_url": "https://github.com/JuliaLang/julia/pull/60035",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60035.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60035.patch",
    "merged_at": "2025-11-06T22:24:16Z"
  },
  "body": "The path to the openssl config file gets baked in at build time and is wrong for the openssl we ship in JLLs causing trouble here if there is no systemwide openssl. However, for our purposes an empty openssl cnf is fine and probably better for reproducability anyway, so just set that.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60035/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60035/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "776157e770eca0c99a16faf163c490eb36c0422f",
      "filename": "stdlib/LibGit2/test/libgit2-tests.jl",
      "status": "modified",
      "additions": 20,
      "deletions": 1,
      "changes": 21,
      "blob_url": "https://github.com/JuliaLang/julia/blob/608df003b0901962c28578328e664d073fda6a99/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/608df003b0901962c28578328e664d073fda6a99/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FLibGit2%2Ftest%2Flibgit2-tests.jl?ref=608df003b0901962c28578328e664d073fda6a99",
      "patch": "@@ -3093,9 +3093,28 @@ mktempdir() do dir\n                 key = joinpath(root, common_name * \".key\")\n                 cert = joinpath(root, common_name * \".crt\")\n                 pem = joinpath(root, common_name * \".pem\")\n+                conf = joinpath(root, common_name * \".conf\")\n+\n+                # Make sure test doesn't depend on system OpenSSL config (which may be broken)\n+                open(conf, \"w\") do io\n+                    write(io, \"\"\"\n+                        [req]\n+                        distinguished_name = req_distinguished_name\n+\n+                        [req_distinguished_name]\n+                        CN = $common_name\n+                        \"\"\")\n+                end\n \n                 # Generated a certificate which has the CN set correctly but no subjectAltName\n-                run(pipeline(`openssl req -new -x509 -newkey rsa:2048 -sha256 -nodes -keyout $key -out $cert -days 1 -subj \"/CN=$common_name\"`, stderr=devnull))\n+                err = IOBuffer()\n+                p = run(pipeline(addenv(\n+                    `openssl req -new -x509 -newkey rsa:2048 -sha256 -nodes -keyout $key -out $cert -days 1 -subj \"/CN=$common_name\"`,\n+                    \"OPENSSL_CONF\" => conf), stderr=err); wait=false)\n+                wait(p)\n+                @testset let err = String(take!(err))\n+                    @test success(p)\n+                end\n                 run(`openssl x509 -in $cert -out $pem -outform PEM`)\n \n                 local pobj, port"
    }
  ]
}