{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/59938",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/59938/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/59938/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/59938/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/59938",
  "id": 3544701157,
  "node_id": "PR_kwDOABkWpM6vREP5",
  "number": 59938,
  "title": "A change list for the compiler",
  "user": {
    "login": "mhauru",
    "id": 5229876,
    "node_id": "MDQ6VXNlcjUyMjk4NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5229876?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mhauru",
    "html_url": "https://github.com/mhauru",
    "followers_url": "https://api.github.com/users/mhauru/followers",
    "following_url": "https://api.github.com/users/mhauru/following{/other_user}",
    "gists_url": "https://api.github.com/users/mhauru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mhauru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mhauru/subscriptions",
    "organizations_url": "https://api.github.com/users/mhauru/orgs",
    "repos_url": "https://api.github.com/users/mhauru/repos",
    "events_url": "https://api.github.com/users/mhauru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mhauru/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "JeffBezanson",
    "id": 744556,
    "node_id": "MDQ6VXNlcjc0NDU1Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/744556?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JeffBezanson",
    "html_url": "https://github.com/JeffBezanson",
    "followers_url": "https://api.github.com/users/JeffBezanson/followers",
    "following_url": "https://api.github.com/users/JeffBezanson/following{/other_user}",
    "gists_url": "https://api.github.com/users/JeffBezanson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JeffBezanson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JeffBezanson/subscriptions",
    "organizations_url": "https://api.github.com/users/JeffBezanson/orgs",
    "repos_url": "https://api.github.com/users/JeffBezanson/repos",
    "events_url": "https://api.github.com/users/JeffBezanson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JeffBezanson/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "JeffBezanson",
      "id": 744556,
      "node_id": "MDQ6VXNlcjc0NDU1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/744556?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeffBezanson",
      "html_url": "https://github.com/JeffBezanson",
      "followers_url": "https://api.github.com/users/JeffBezanson/followers",
      "following_url": "https://api.github.com/users/JeffBezanson/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeffBezanson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeffBezanson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeffBezanson/subscriptions",
      "organizations_url": "https://api.github.com/users/JeffBezanson/orgs",
      "repos_url": "https://api.github.com/users/JeffBezanson/repos",
      "events_url": "https://api.github.com/users/JeffBezanson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeffBezanson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2025-10-23T13:26:27Z",
  "updated_at": "2026-01-06T01:05:36Z",
  "closed_at": "2026-01-06T01:05:36Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/59938",
    "html_url": "https://github.com/JuliaLang/julia/pull/59938",
    "diff_url": "https://github.com/JuliaLang/julia/pull/59938.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/59938.patch",
    "merged_at": "2026-01-06T01:05:36Z"
  },
  "body": "Changes to the compiler in 1.12, while very welcome, caused work for some packages that interface with the compiler. I'm aware of https://github.com/chalk-lab/Mooncake.jl/pull/714 and https://github.com/TuringLang/Libtask.jl/pull/196, there are probably others. This is of course understandable and unavoidable when packages interface with internals that aren't public.\r\n\r\nHowever, as discussed on Slack a few times, it would be very useful for package maintainers if there was even a rough list of changes, and advice on how to adapt to them. To kickstart this, I started a draft with changes I encountered in 1.12. It is very incomplete (reflecting my very superficial understanding of the compiler), and I would be grateful and happy if those who know this stuff better would be up for completing it, merging it, and adding to it as more things happen in 1.13.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/59938/reactions",
    "total_count": 12,
    "+1": 8,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 4,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/59938/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "450d99ab7c4c7f0e5363a1906aff5dcc6d622208",
      "filename": "doc/make.jl",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/JuliaLang/julia/blob/a7add0bc481c7465d2e4048996a0f524d0b542bc/doc%2Fmake.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/a7add0bc481c7465d2e4048996a0f524d0b542bc/doc%2Fmake.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/doc%2Fmake.jl?ref=a7add0bc481c7465d2e4048996a0f524d0b542bc",
      "patch": "@@ -270,6 +270,7 @@ DevDocs = [\n         \"devdocs/jit.md\",\n         \"devdocs/builtins.md\",\n         \"devdocs/precompile_hang.md\",\n+        \"devdocs/compiler_changes.md\",\n     ],\n     \"Developing/debugging Julia's C code\" => [\n         \"devdocs/backtraces.md\","
    },
    {
      "sha": "a1278d0bf5b754b95f5fcfbe6c41728fb57ae056",
      "filename": "doc/src/devdocs/compiler_changes.md",
      "status": "added",
      "additions": 41,
      "deletions": 0,
      "changes": 41,
      "blob_url": "https://github.com/JuliaLang/julia/blob/a7add0bc481c7465d2e4048996a0f524d0b542bc/doc%2Fsrc%2Fdevdocs%2Fcompiler_changes.md",
      "raw_url": "https://github.com/JuliaLang/julia/raw/a7add0bc481c7465d2e4048996a0f524d0b542bc/doc%2Fsrc%2Fdevdocs%2Fcompiler_changes.md",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/doc%2Fsrc%2Fdevdocs%2Fcompiler_changes.md?ref=a7add0bc481c7465d2e4048996a0f524d0b542bc",
      "patch": "@@ -0,0 +1,41 @@\n+# History of changes to the compiler\n+\n+The Julia compiler is not part of the public interface of Julia's `Core`, and may change in non-breaking Julia releases. This page lists breaking changes introduced to the compiler to aid in adapting to those changes, intended for packages that do interface with the compiler. It is maintained on a best-effort basis and may be incomplete.\n+\n+## v1.12\n+\n+### Changes to the `IRCode` type\n+\n+The `linetable` field of `IRCode` has been removed, and the source line information is now available in a different format in the `debuginfo` field. ([#52415](https://github.com/JuliaLang/julia/pull/52415))\n+\n+Related to the above, the `verify_linetable` function changed its signature from `verify_linetable(::Vector{Core.LineInfoNode})` to `verify_linetable(::DebugInfoStream, nstmts::Int64)`, the second argument being the number of statements.\n+\n+`IRCode` now has a `valid_worlds` field, to explicitly communicate which worlds are\n+to be considered for type inference and optimization purposes. As 1.12 introduced world-age\n+partitioned bindings, this information is key to properly infer through global bindings.\n+An upper bound that is not constrained enough may lead to a failure to accurately infer and optimize these.\n+\n+### `InstructionStream` constructors have gotten stricter\n+\n+The constructor for `InstructionStream` now requires the arguments to be of exactly the correct types. The fields haven't changed, but for instance you need to cast the second argument called `type` to be a `Vector{Any}` instead of being able to pass in something like a `Vector{Type}` and relying on an automatic cast.\n+\n+### `CodeInstance`s replacing certain uses of `MethodInstance`s\n+\n+`CodeInstance` has gradually replaced `MethodInstance` in more and more places, over several\n+extensive PRs. `CodeInstance` holds the cached results of inference, and usually end up stored in\n+the `.cache` field of their parent `MethodInstance`s (with the `.next` field of `CodeInstance`\n+allowing a linked list to be formed by holding further `CodeInstance`s).\n+\n+One notable change is that the first argument to `invoke` expressions is now a `CodeInstance`\n+instead of a `MethodInstance`.\n+\n+The parent `MethodInstance` of a `CodeInstance` may be accessed with `Compiler.get_ci_mi(code_instance)`.\n+\n+### `SpecInfo` replaces `MethodInfo`\n+\n+`MethodInfo` was renamed to `SpecInfo`, and two fields `nargs::Int` and `isva::Bool` have been prepended to it, indicating how many arguments a specialization takes, and whether its signature is variadic (of the form `f(x...)`). ([#55976](https://github.com/JuliaLang/julia/pull/55976))\n+\n+### Changes to `OpaqueClosure`s\n+\n+`OpaqueClosure` now requires the first argument type of its source `IRCode` to be the type of\n+its environment (passed through `env...`), such as `Tuple{Int, Float64}` or `Tuple{}` for no captures. ([#54458](https://github.com/JuliaLang/julia/pull/54458))"
    }
  ]
}