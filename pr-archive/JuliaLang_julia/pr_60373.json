{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60373",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60373/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60373/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60373/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60373",
  "id": 3724700112,
  "node_id": "PR_kwDOABkWpM64optu",
  "number": 60373,
  "title": "`Expr`/`SyntaxTree` parity: trivial conversions",
  "user": {
    "login": "mlechu",
    "id": 61633163,
    "node_id": "MDQ6VXNlcjYxNjMzMTYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/61633163?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mlechu",
    "html_url": "https://github.com/mlechu",
    "followers_url": "https://api.github.com/users/mlechu/followers",
    "following_url": "https://api.github.com/users/mlechu/following{/other_user}",
    "gists_url": "https://api.github.com/users/mlechu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mlechu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mlechu/subscriptions",
    "organizations_url": "https://api.github.com/users/mlechu/orgs",
    "repos_url": "https://api.github.com/users/mlechu/repos",
    "events_url": "https://api.github.com/users/mlechu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mlechu/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 9763847389,
      "node_id": "LA_kwDOABkWpM8AAAACRfh83Q",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/JuliaLowering",
      "name": "JuliaLowering",
      "color": "144fbf",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 3,
  "created_at": "2025-12-12T20:11:04Z",
  "updated_at": "2025-12-24T17:54:45Z",
  "closed_at": "2025-12-16T23:39:38Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60373",
    "html_url": "https://github.com/JuliaLang/julia/pull/60373",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60373.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60373.patch",
    "merged_at": "2025-12-16T23:39:38Z"
  },
  "body": "As discussed on slack with @c42f and @topolarity, I gave expansion-time conversions an honest try, but couldn't see the end of the tunnel in terms of correctness.  The equivalence between SyntaxNode and Expr is only defined on surface syntax or fully-macro-expanded syntax, and not the steps in between, or if errors occur.  We have a plan for syntax evolution now, too, so there compelling reasons not to lump changes to AST layout into JuliaLowering's macro expansion.\r\n\r\nLet `EST` be the \"new\" Expr-like SyntaxTree I'm working on and `CST` be the current SyntaxNode-like version. PRs planned:\r\n1. https://github.com/JuliaLang/julia/pull/60370\r\n2. (this PR) Trivial `EST`<->`Expr` conversion, tested by parsing code in bulk and round-tripping\r\n3. `RawGreenNode`->`EST` (identical logic to existing `RawGreenNode`->`Expr`, and testable with this PR's `Expr`->`EST`)\r\n4. `EST`->`CST*`: This would just be a simplification of our existing `Expr`->`CST`, and prevents us from needing to make huge changes in desugaring (which understands `CST*`).  Macro expansion will become `EST`->`EST` rather than `CST`->`CST*`.\r\n5. Before one or both of the above, I may try and merge a basic SyntaxTree pattern-matching macro so operating on these things is less tedious.  This is already written, but needs tests.\r\n\r\n",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60373/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60373/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0
}