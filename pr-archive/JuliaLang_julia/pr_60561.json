{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60561",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60561/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60561/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60561/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60561",
  "id": 3785296284,
  "node_id": "PR_kwDOABkWpM67usta",
  "number": 60561,
  "title": "[JuliaLowering] Minor code quality improvements",
  "user": {
    "login": "aviatesk",
    "id": 40514306,
    "node_id": "MDQ6VXNlcjQwNTE0MzA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/40514306?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aviatesk",
    "html_url": "https://github.com/aviatesk",
    "followers_url": "https://api.github.com/users/aviatesk/followers",
    "following_url": "https://api.github.com/users/aviatesk/following{/other_user}",
    "gists_url": "https://api.github.com/users/aviatesk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aviatesk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aviatesk/subscriptions",
    "organizations_url": "https://api.github.com/users/aviatesk/orgs",
    "repos_url": "https://api.github.com/users/aviatesk/repos",
    "events_url": "https://api.github.com/users/aviatesk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aviatesk/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 250223102,
      "node_id": "MDU6TGFiZWwyNTAyMjMxMDI=",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/compiler:lowering",
      "name": "compiler:lowering",
      "color": "5319e7",
      "default": false,
      "description": "Syntax lowering (compiler front end, 2nd stage)"
    },
    {
      "id": 9763847389,
      "node_id": "LA_kwDOABkWpM8AAAACRfh83Q",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/JuliaLowering",
      "name": "JuliaLowering",
      "color": "144fbf",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2026-01-06T14:15:31Z",
  "updated_at": "2026-01-07T17:14:45Z",
  "closed_at": "2026-01-06T19:14:07Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60561",
    "html_url": "https://github.com/JuliaLang/julia/pull/60561",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60561.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60561.patch",
    "merged_at": "2026-01-06T19:14:06Z"
  },
  "body": "Basically just improves isdefined-ness of local variables for JET-based analyses and also removes unused variables.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60561/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60561/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "ec952b0097a182bb41d8955ffe27fcadfd3922a1",
      "filename": "JuliaLowering/src/desugaring.jl",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/JuliaLang/julia/blob/f1989bfa9dee31f36f1c13a6ac95be7388b264ed/JuliaLowering%2Fsrc%2Fdesugaring.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/f1989bfa9dee31f36f1c13a6ac95be7388b264ed/JuliaLowering%2Fsrc%2Fdesugaring.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/JuliaLowering%2Fsrc%2Fdesugaring.jl?ref=f1989bfa9dee31f36f1c13a6ac95be7388b264ed",
      "patch": "@@ -279,9 +279,7 @@ end\n # right hand side is directly indexable.\n function _destructure(ctx, assignment_srcref, stmts, lhs, rhs, is_const)\n     n_lhs = numchildren(lhs)\n-    if n_lhs > 0\n-        iterstate = new_local_binding(ctx, rhs, \"iterstate\")\n-    end\n+    iterstate = n_lhs > 0 ? new_local_binding(ctx, rhs, \"iterstate\") : nothing\n \n     end_stmts = SyntaxList(ctx)\n     wrap(asgn) = is_const ? (@ast ctx assignment_srcref [K\"const\" asgn]) : asgn\n@@ -1620,7 +1618,7 @@ function expand_named_tuple(ctx, ex, kws, eq_is_kw;\n     names = SyntaxList(ctx)\n     values = SyntaxList(ctx)\n     current_nt = nothing\n-    for (i,kw) in enumerate(kws)\n+    for kw in kws\n         k = kind(kw)\n         appended_nt = nothing\n         name = nothing\n@@ -3488,6 +3486,8 @@ function analyze_type_sig(ctx, ex)\n         end\n     end\n     @isdefined(name) || throw(LoweringError(ex, \"invalid type signature\"))\n+    @isdefined(type_params) || throw(LoweringError(ex, \"invalid type signature\"))\n+    @isdefined(supertype) || throw(LoweringError(ex, \"invalid type signature\"))\n \n     return (name, type_params, supertype)\n end\n@@ -3524,8 +3524,8 @@ function expand_abstract_or_primitive_type(ctx, ex)\n     else\n         @assert kind(ex) == K\"primitive\"\n         @chk numchildren(ex) == 2\n-        nbits = ex[2]\n     end\n+    nbits = is_abstract ? nothing : ex[2]\n     name, type_params, supertype = analyze_type_sig(ctx, ex[1])\n     typevar_names, typevar_stmts = expand_typevars(ctx, type_params)\n     newtype_var = ssavar(ctx, ex, \"new_type\")"
    }
  ]
}