{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60088",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60088/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60088/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60088/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60088",
  "id": 3605404781,
  "node_id": "PR_kwDOABkWpM6yZdNY",
  "number": 60088,
  "title": "Call `realpath` before comparing coverage paths",
  "user": {
    "login": "Keno",
    "id": 1291671,
    "node_id": "MDQ6VXNlcjEyOTE2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1291671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Keno",
    "html_url": "https://github.com/Keno",
    "followers_url": "https://api.github.com/users/Keno/followers",
    "following_url": "https://api.github.com/users/Keno/following{/other_user}",
    "gists_url": "https://api.github.com/users/Keno/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Keno/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Keno/subscriptions",
    "organizations_url": "https://api.github.com/users/Keno/orgs",
    "repos_url": "https://api.github.com/users/Keno/repos",
    "events_url": "https://api.github.com/users/Keno/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Keno/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-11-09T19:40:47Z",
  "updated_at": "2025-11-11T00:01:51Z",
  "closed_at": "2025-11-11T00:01:49Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60088",
    "html_url": "https://github.com/JuliaLang/julia/pull/60088",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60088.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60088.patch",
    "merged_at": "2025-11-11T00:01:49Z"
  },
  "body": "This commit fixes an issue where `--code-coverage=@path` does not work if `path` has any symlinks in it (which happens e.g. when testing `Pkg` in tree - ref #60058). The issue is that we call `realpath` on the cli argument, but do not currently call realpath when inserting the instrumentation. One fix would be to stop calling realpath on the cli argument, but that has the potential to break users who rely on this behavior.\r\n\r\nThe other fix (implemented here) is to also call realpath when doing the comparison. However, this is a bit aweful, because, as currently structured, this requires us to do a file system query for every line table entry. Most of those line table entries will probably have the same file, so that's a lot of redundant (and depending on filesystem, potentially expensive work).\r\n\r\nThat said, I think this is the best solution for the time being. At some point in the near future we need to completely overhaul all and move the filtering to the writer side (rather than during codegen), as well as making coverage cacheable and work in the interpreter. Until then, this at least helps with addressing the test failure.",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60088/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60088/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0
}