{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/51811",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/51811/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/51811/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/51811/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/51811",
  "id": 1955639093,
  "node_id": "PR_kwDOABkWpM5dc8ta",
  "number": 51811,
  "title": "Make banner size depend on terminal size",
  "user": {
    "login": "tecosaur",
    "id": 20903656,
    "node_id": "MDQ6VXNlcjIwOTAzNjU2",
    "avatar_url": "https://avatars.githubusercontent.com/u/20903656?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tecosaur",
    "html_url": "https://github.com/tecosaur",
    "followers_url": "https://api.github.com/users/tecosaur/followers",
    "following_url": "https://api.github.com/users/tecosaur/following{/other_user}",
    "gists_url": "https://api.github.com/users/tecosaur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tecosaur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tecosaur/subscriptions",
    "organizations_url": "https://api.github.com/users/tecosaur/orgs",
    "repos_url": "https://api.github.com/users/tecosaur/repos",
    "events_url": "https://api.github.com/users/tecosaur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tecosaur/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 42281298,
      "node_id": "MDU6TGFiZWw0MjI4MTI5OA==",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/REPL",
      "name": "REPL",
      "color": "c7def8",
      "default": false,
      "description": "Julia's REPL (Read Eval Print Loop)"
    },
    {
      "id": 511192218,
      "node_id": "MDU6TGFiZWw1MTExOTIyMTg=",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/display%20and%20printing",
      "name": "display and printing",
      "color": "e5ff9e",
      "default": false,
      "description": "Aesthetics and correctness of printed representations of objects."
    },
    {
      "id": 6961181883,
      "node_id": "LA_kwDOABkWpM8AAAABnus0uw",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/reverted",
      "name": "reverted",
      "color": "EC7B22",
      "default": false,
      "description": "This PR has since been reverted"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 61,
  "created_at": "2023-10-21T19:36:18Z",
  "updated_at": "2025-11-21T06:12:04Z",
  "closed_at": "2025-10-25T15:34:09Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/51811",
    "html_url": "https://github.com/JuliaLang/julia/pull/51811",
    "diff_url": "https://github.com/JuliaLang/julia/pull/51811.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/51811.patch",
    "merged_at": "2025-10-25T15:34:09Z"
  },
  "body": "This PR is the result of three thoughts:\r\n1. `versions.jl` is a weird place for the banner function to live, when we have `REPL`\r\n2. It's annoying when the banner either (nearly) takes up the entire terminal frame, or actually reflows and breaks (visually)\r\n3. The banner could be a little fancier, visually\r\n\r\nThe result of these three thoughts is a set of six banner sizes, selected based on `displaysize` to ensure that this never happens:\r\n\r\n<image src=\"https://github.com/JuliaLang/julia/assets/20903656/d57e7207-d7c3-4818-b32f-645cb3b4ad0f\" height=\"300\">\r\n\r\n**The variants below are outdated**, see this comment for more up-to-date screenshots: https://github.com/JuliaLang/julia/pull/51811#issuecomment-1938261062\r\n\r\n> **The six variants** (outdated)\r\n> \r\n> <image src=\"https://github.com/JuliaLang/julia/assets/20903656/7186c8ce-5d69-41da-a38b-5fec4a62718c\" height=\"400\">\r\n\r\n-----\r\n\r\nThere are two issues I'm currently facing that I'd appreciate help with:\r\n1. Precompilation annoyances: it seems I need to change the `eval` in `StyledStrings/src/stylemacro.jl` to `Core.eval(__module__` during precompile, even if the code is pure. Furthermore, I find myself needing to change the clause on line 669 to `state.interpolated[] || Base.generating_output()`. This seems a little dodgy, and so I'd appreciate thoughts.\r\n2. **[solved]** ~~For some reason, with this PR the banner doesn't appear on starting `julia`. Yet, as seen by the screenshot above invoking `REPL.banner` does work. I have confirmed that `REPL.banner` is indeed called, and so find myself at a loss here.~~",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/51811/reactions",
    "total_count": 17,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 17,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/51811/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "79b5e32bdaea53c389ad17903a8041efdb289b52",
      "filename": "base/client.jl",
      "status": "modified",
      "additions": 21,
      "deletions": 7,
      "changes": 28,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/base%2Fclient.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/base%2Fclient.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/base%2Fclient.jl?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -484,7 +484,7 @@ end\n function run_std_repl(REPL::Module, quiet::Bool, banner::Symbol, history_file::Bool)\n     term_env = get(ENV, \"TERM\", @static Sys.iswindows() ? \"\" : \"dumb\")\n     term = REPL.Terminals.TTYTerminal(term_env, stdin, stdout, stderr)\n-    banner == :no || REPL.banner(term, short=banner==:short)\n+    banner == :no || REPL.banner(term, banner)\n     if term.term_type == \"dumb\"\n         repl = REPL.BasicREPL(term)\n         quiet || @warn \"Terminal not fully functional\"\n@@ -607,12 +607,26 @@ end\n function repl_main(_)\n     opts = Base.JLOptions()\n     interactiveinput = isa(stdin, Base.TTY)\n-    b = opts.banner\n-    auto = b == -1\n-    banner = b == 0 || (auto && !interactiveinput) ? :no  :\n-             b == 1 || (auto && interactiveinput)  ? :yes :\n-             :short # b == 2\n-\n+    bval = if opts.banner == -1 # Auto\n+        Int(interactiveinput)\n+    else\n+        opts.banner\n+    end\n+    # All the options produced by `jloptions.c`'s `case opt_banner`.\n+    # 0=off, 1=largest, ..., N=smallest\n+    banner = if bval == 0\n+        :no\n+    elseif bval == 1\n+        :full\n+    elseif bval == 2\n+        :narrow\n+    elseif bval == 3\n+        :short\n+    elseif bval == 4\n+        :tiny\n+    else # For type stability of `banner`\n+        :unreachable\n+    end\n     quiet                 = (opts.quiet != 0)\n     history_file          = (opts.historyfile != 0)\n     return run_main_repl(interactiveinput, quiet, banner, history_file)"
    },
    {
      "sha": "242c8b77828ed4937c5c94a715470167de644c87",
      "filename": "src/jloptions.c",
      "status": "modified",
      "additions": 14,
      "deletions": 7,
      "changes": 21,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/src%2Fjloptions.c",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/src%2Fjloptions.c",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/src%2Fjloptions.c?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -235,7 +235,8 @@ static const char opts[]  =\n     \" -i, --interactive                             Interactive mode; REPL runs and\\n\"\n     \"                                               `isinteractive()` is true.\\n\"\n     \" -q, --quiet                                   Quiet startup: no banner, suppress REPL warnings\\n\"\n-    \" --banner={yes|no|short|auto*}                 Enable or disable startup banner\\n\"\n+    \" --banner={yes|no|auto*|<size>}                Enable or disable startup banner, or specify a\\n\"\n+    \"                                               preferred <size> (tiny, short, narrow, or full).\\n\"\n     \" --color={yes|no|auto*}                        Enable or disable color text\\n\"\n     \" --history-file={yes*|no}                      Load or save history\\n\\n\"\n \n@@ -611,16 +612,22 @@ JL_DLLEXPORT void jl_parse_opts(int *argcp, char ***argvp)\n                 jl_options.banner = 0;\n             break;\n         case opt_banner: // banner\n-            if (!strcmp(optarg, \"yes\"))\n-                jl_options.banner = 1;\n+            if (!strcmp(optarg, \"auto\"))\n+                jl_options.banner = -1;\n             else if (!strcmp(optarg, \"no\"))\n                 jl_options.banner = 0;\n-            else if (!strcmp(optarg, \"auto\"))\n-                jl_options.banner = -1;\n-            else if (!strcmp(optarg, \"short\"))\n+            else if (!strcmp(optarg, \"yes\"))\n+                jl_options.banner = 1;\n+            else if (!strcmp(optarg, \"full\"))\n+                jl_options.banner = 1; // Same as \"yes\".\n+            else if (!strcmp(optarg, \"narrow\"))\n                 jl_options.banner = 2;\n+            else if (!strcmp(optarg, \"short\"))\n+                jl_options.banner = 3;\n+            else if (!strcmp(optarg, \"tiny\"))\n+                jl_options.banner = 4;\n             else\n-                jl_errorf(\"julia: invalid argument to --banner={yes|no|auto|short} (%s)\", optarg);\n+                jl_errorf(\"julia: invalid argument to --banner={yes|no|auto|full|narrow|short|tiny} (%s)\", optarg);\n             break;\n         case opt_experimental_features:\n             jl_options.use_experimental_features = JL_OPTIONS_USE_EXPERIMENTAL_FEATURES_YES;"
    },
    {
      "sha": "4fe08bf87bad24e980bc8f2397381d5a53efb795",
      "filename": "stdlib/REPL/src/REPL.jl",
      "status": "modified",
      "additions": 68,
      "deletions": 53,
      "changes": 121,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Fsrc%2FREPL.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Fsrc%2FREPL.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Fsrc%2FREPL.jl?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -1764,11 +1764,21 @@ function ends_with_semicolon(code)\n     return semi\n end\n \n-function banner(io::IO = stdout; short = false)\n-    if Base.GIT_VERSION_INFO.tagged_commit\n-        commit_string = Base.TAGGED_RELEASE_BANNER\n+\"\"\"\n+    banner(io::IO = stdout, preferred::Symbol = :full)\n+\n+Print the \"Julia\" informative banner to `io`, using the `preferred` variant\n+if reasonable and known.\n+\n+!!! warning\n+    The particular banner selected by `preferred` is liable to being changed\n+    without warning. The current variants are: `:tiny`, `:short`, `:narrow`, and `:full`.\n+\"\"\"\n+function banner(io::IO = stdout, preferred::Symbol = :full)\n+    commit_string = if Base.GIT_VERSION_INFO.tagged_commit\n+        Base.AnnotatedString(TAGGED_RELEASE_BANNER, :face => :shadow)\n     elseif isempty(Base.GIT_VERSION_INFO.commit)\n-        commit_string = \"\"\n+         styled\"\"\n     else\n         days = Int(floor((ccall(:jl_clock_now, Float64, ()) - Base.GIT_VERSION_INFO.fork_master_timestamp) / (60 * 60 * 24)))\n         days = max(0, days)\n@@ -1777,60 +1787,65 @@ function banner(io::IO = stdout; short = false)\n         commit = Base.GIT_VERSION_INFO.commit_short\n \n         if distance == 0\n-            commit_string = \"Commit $(commit) ($(days) $(unit) old master)\"\n+            styled\"\"\"Commit {grey:$commit} \\\n+                     ({warning:\u231b {italic:$days $unit}} old master)\"\"\"\n         else\n             branch = Base.GIT_VERSION_INFO.branch\n-            commit_string = \"$(branch)/$(commit) (fork: $(distance) commits, $(days) $(unit))\"\n+            styled\"\"\"{emphasis:$branch}/{grey:$commit} \\\n+                     ({italic:{success:{bold,(slant=normal):\u2191} $distance commits}, \\\n+                     {warning:{(slant=normal):\u231b} $days $unit}})\"\"\"\n         end\n     end\n \n-    commit_date = isempty(Base.GIT_VERSION_INFO.date_string) ? \"\" : \" ($(split(Base.GIT_VERSION_INFO.date_string)[1]))\"\n-\n-    if get(io, :color, false)::Bool\n-        c = Base.text_colors\n-        tx = c[:normal] # text\n-        jl = c[:normal] # julia\n-        d1 = c[:bold] * c[:blue]    # first dot\n-        d2 = c[:bold] * c[:red]     # second dot\n-        d3 = c[:bold] * c[:green]   # third dot\n-        d4 = c[:bold] * c[:magenta] # fourth dot\n-\n-        if short\n-            print(io,\"\"\"\n-              $(d3)o$(tx)  | Version $(VERSION)$(commit_date)\n-             $(d2)o$(tx) $(d4)o$(tx) | $(commit_string)\n-            \"\"\")\n-        else\n-            print(io,\"\"\"               $(d3)_$(tx)\n-               $(d1)_$(tx)       $(jl)_$(tx) $(d2)_$(d3)(_)$(d4)_$(tx)     |  Documentation: https://docs.julialang.org\n-              $(d1)(_)$(jl)     | $(d2)(_)$(tx) $(d4)(_)$(tx)    |\n-               $(jl)_ _   _| |_  __ _$(tx)   |  Type \\\"?\\\" for help, \\\"]?\\\" for Pkg help.\n-              $(jl)| | | | | | |/ _` |$(tx)  |\n-              $(jl)| | |_| | | | (_| |$(tx)  |  Version $(VERSION)$(commit_date)\n-             $(jl)_/ |\\\\__'_|_|_|\\\\__'_|$(tx)  |  $(commit_string)\n-            $(jl)|__/$(tx)                   |\n-\n-            \"\"\")\n-        end\n-    else\n-        if short\n-            print(io,\"\"\"\n-              o  |  Version $(VERSION)$(commit_date)\n-             o o |  $(commit_string)\n-            \"\"\")\n-        else\n-            print(io,\"\"\"\n-                           _\n-               _       _ _(_)_     |  Documentation: https://docs.julialang.org\n-              (_)     | (_) (_)    |\n-               _ _   _| |_  __ _   |  Type \\\"?\\\" for help, \\\"]?\\\" for Pkg help.\n-              | | | | | | |/ _` |  |\n-              | | |_| | | | (_| |  |  Version $(VERSION)$(commit_date)\n-             _/ |\\\\__'_|_|_|\\\\__'_|  |  $(commit_string)\n-            |__/                   |\n-\n-            \"\"\")\n-        end\n+    commit_date = isempty(Base.GIT_VERSION_INFO.date_string) ? \"\" : styled\" {light:($(split(Base.GIT_VERSION_INFO.date_string)[1]))}\"\n+    doclink = styled\"{bold:Documentation:} {(underline=grey),link={https://docs.julialang.org}:https://docs.julialang.org}\"\n+    help = styled\"Type {repl_prompt_help:?} for help, {repl_prompt_pkg:]?} for {(underline=grey),link={https://pkgdocs.julialang.org/}:Pkg} help.\"\n+\n+    sizenames = (:tiny, :short, :narrow, :full)\n+    maxsize = something(findfirst(==(preferred), sizenames), length(sizenames))\n+    size = min(if     all(displaysize(io) .>= (8, 70)); 4 # Full size\n+               elseif all(displaysize(io) .>= (8, 45)); 3 # Narrower\n+               elseif all(displaysize(io) .>= (3, 50)); 2 # Tiny\n+               else 1 end,\n+               max(0, maxsize))\n+\n+    if size == 4 # Full size\n+        print(io, styled\"\"\"\n+                                 {bold,green:_}\n+                     {bold,blue:_}       _ {bold:{red:_}{green:(_)}{magenta:_}}     {shadow:\u2502}  $doclink\n+                    {bold,blue:(_)}     | {bold:{red:(_)} {magenta:(_)}}    {shadow:\u2502}\n+                     _ _   _| |_  __ _   {shadow:\u2502}  $help\n+                    | | | | | | |/ _` |  {shadow:\u2502}\n+                    | | |_| | | | (_| |  {shadow:\u2502}  Version {bold:$VERSION}$commit_date\n+                   _/ |\\\\__'_|_|_|\\\\__'_|  {shadow:\u2502}  $commit_string\n+                  |__/                   {shadow:\u2502}\n+                  \\n\"\"\")\n+    elseif size == 3 # Rotated\n+        print(io, styled\"\"\"\n+                                 {bold,green:_}\n+                     {bold,blue:_}       _ {bold:{red:_}{green:(_)}{magenta:_}}\n+                    {bold,blue:(_)}     | {bold:{red:(_)} {magenta:(_)}}\n+                     _ _   _| |_  __ _\n+                    | | | | | | |/ _` |\n+                    | | |_| | | | (_| |\n+                   _/ |\\\\__'_|_|_|\\\\__'_|\n+                  |__/\n+\n+                   $doclink\n+                   $help\n+\n+                   Version {bold:$VERSION}$commit_date\n+                   $commit_string\n+                  \\n\"\"\")\n+    elseif size == 2 # Tiny\n+        print(io, styled\"\"\"\n+                     {bold,green:o}  {shadow:\u2502} Version {bold:$VERSION}$commit_date\n+                    {bold:{red:o} {magenta:o}} {shadow:\u2502} $commit_string\n+                   \"\"\", ifelse(displaysize(io) > (12, 0), \"\\n\", \"\"))\n+    elseif size == 1 && Base.GIT_VERSION_INFO.tagged_commit # Text only\n+        print(io, styled\"\"\"{bold:{blue:\u2234} {magenta:Julia} $VERSION}$commit_date\\n\"\"\")\n+    elseif size == 1 # Text only\n+        print(io, styled\"\"\"{bold:{blue:\u2234} {magenta:Julia} $VERSION}$commit_date $commit_string\\n\"\"\")\n     end\n end\n "
    },
    {
      "sha": "c0c1bd101a29370243a3cd841a24e8289b948450",
      "filename": "stdlib/REPL/src/precompile.jl",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Fsrc%2Fprecompile.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Fsrc%2Fprecompile.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Fsrc%2Fprecompile.jl?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -211,6 +211,20 @@ let\n             precompile(Tuple{typeof(Base.setindex!), Base.Dict{Any, Any}, Any, Int})\n             precompile(Tuple{typeof(Base.delete!), Base.Set{Any}, String})\n             precompile(Tuple{typeof(Base.:(==)), Char, String})\n+            # For the banner\n+            # TODO: Fix precompilation so this is no longer needed\n+            precompile(Tuple{typeof(Base.AnnotatedDisplay.ansi_write), typeof(Base.write), Base.TTY, Base.AnnotatedString{String}})\n+            precompile(Tuple{typeof(Base.all), Tuple{Bool, Bool}})\n+            precompile(Tuple{typeof(Base.get), Base.Dict{Tuple{Symbol, Any}, Int64}, Tuple{Symbol, REPL.StyledStrings.Face}, Int64})\n+            precompile(Tuple{typeof(Base.get), Base.Dict{Tuple{Symbol, Any}, Int64}, Tuple{Symbol, String}, Int64})\n+            precompile(Tuple{typeof(Base.get), Base.Dict{Tuple{Symbol, Any}, Int64}, Tuple{Symbol, Symbol}, Int64})\n+            precompile(Tuple{typeof(Base.hashindex), Tuple{Symbol, String}, Int64})\n+            precompile(Tuple{typeof(Base.isempty), Base.Dict{String, Any}})\n+            precompile(Tuple{typeof(Base.print), Base.TTY, Base.AnnotatedString{String}})\n+            precompile(Tuple{typeof(Base.setindex!), Base.Dict{Tuple{Symbol, Any}, Int64}, Int64, Tuple{Symbol, REPL.StyledStrings.Face}})\n+            precompile(Tuple{typeof(Base.setindex!), Base.Dict{Tuple{Symbol, Any}, Int64}, Int64, Tuple{Symbol, String}})\n+            precompile(Tuple{typeof(Base.setindex!), Base.Dict{Tuple{Symbol, Any}, Int64}, Int64, Tuple{Symbol, Symbol}})\n+            precompile(Tuple{typeof(REPL.banner), Base.TTY})\n         finally\n             ccall(:jl_tag_newly_inferred_disable, Cvoid, ())\n         end"
    },
    {
      "sha": "4faefe02e32fe13ca8fce5f2977417bf67439fdd",
      "filename": "stdlib/REPL/test/repl.jl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Ftest%2Frepl.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/stdlib%2FREPL%2Ftest%2Frepl.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/stdlib%2FREPL%2Ftest%2Frepl.jl?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -1912,9 +1912,9 @@ let io = IOBuffer()\n     seek(io, 0)\n     @test countlines(io) == 9\n     take!(io)\n-    @test REPL.banner(io; short=true) === nothing\n+    @test REPL.banner(io, :tiny) === nothing\n     seek(io, 0)\n-    @test countlines(io) == 2\n+    @test countlines(io) == 1\n end\n \n @testset \"Docstrings\" begin"
    },
    {
      "sha": "834fba07647dce35fe176f88d4442a1f56478aa3",
      "filename": "test/cmdlineargs.jl",
      "status": "modified",
      "additions": 15,
      "deletions": 12,
      "changes": 27,
      "blob_url": "https://github.com/JuliaLang/julia/blob/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/test%2Fcmdlineargs.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/1ab0e32dd52576c93c477103e1b77f91e7cf26ed/test%2Fcmdlineargs.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/test%2Fcmdlineargs.jl?ref=1ab0e32dd52576c93c477103e1b77f91e7cf26ed",
      "patch": "@@ -315,18 +315,21 @@ let exename = `$(Base.julia_cmd()) --startup-file=no --color=no`\n \n     # --quiet, --banner\n     let p = \"print((Base.JLOptions().quiet, Base.JLOptions().banner))\"\n-        @test read(`$exename                   -e $p`, String) == \"(0, -1)\"\n-        @test read(`$exename -q                -e $p`, String) == \"(1, 0)\"\n-        @test read(`$exename --quiet           -e $p`, String) == \"(1, 0)\"\n-        @test read(`$exename --banner=no       -e $p`, String) == \"(0, 0)\"\n-        @test read(`$exename --banner=yes      -e $p`, String) == \"(0, 1)\"\n-        @test read(`$exename --banner=short    -e $p`, String) == \"(0, 2)\"\n-        @test read(`$exename -q --banner=no    -e $p`, String) == \"(1, 0)\"\n-        @test read(`$exename -q --banner=yes   -e $p`, String) == \"(1, 1)\"\n-        @test read(`$exename -q --banner=short -e $p`, String) == \"(1, 2)\"\n-        @test read(`$exename --banner=no  -q   -e $p`, String) == \"(1, 0)\"\n-        @test read(`$exename --banner=yes -q   -e $p`, String) == \"(1, 1)\"\n-        @test read(`$exename --banner=short -q -e $p`, String) == \"(1, 2)\"\n+        @test read(`$exename                    -e $p`, String) == \"(0, -1)\"\n+        @test read(`$exename -q                 -e $p`, String) == \"(1, 0)\"\n+        @test read(`$exename --quiet            -e $p`, String) == \"(1, 0)\"\n+        @test read(`$exename --banner=auto      -e $p`, String) == \"(0, -1)\"\n+        @test read(`$exename --banner=no        -e $p`, String) == \"(0, 0)\"\n+        @test read(`$exename --banner=yes       -e $p`, String) == \"(0, 1)\"\n+        @test read(`$exename --banner=full      -e $p`, String) == \"(0, 1)\"\n+        @test read(`$exename -q --banner=no     -e $p`, String) == \"(1, 0)\"\n+        @test read(`$exename -q --banner=yes    -e $p`, String) == \"(1, 1)\"\n+        @test read(`$exename -q --banner=tiny   -e $p`, String) == \"(1, 4)\"\n+        @test read(`$exename --banner=no  -q    -e $p`, String) == \"(1, 0)\"\n+        @test read(`$exename --banner=yes -q    -e $p`, String) == \"(1, 1)\"\n+        @test read(`$exename --banner=narrow -q -e $p`, String) == \"(1, 2)\"\n+        @test read(`$exename --banner=short  -q -e $p`, String) == \"(1, 3)\"\n+        @test read(`$exename --banner=tiny   -q -e $p`, String) == \"(1, 4)\"\n     end\n \n     # --home"
    }
  ]
}