{
  "url": "https://api.github.com/repos/JuliaLang/julia/issues/60199",
  "repository_url": "https://api.github.com/repos/JuliaLang/julia",
  "labels_url": "https://api.github.com/repos/JuliaLang/julia/issues/60199/labels{/name}",
  "comments_url": "https://api.github.com/repos/JuliaLang/julia/issues/60199/comments",
  "events_url": "https://api.github.com/repos/JuliaLang/julia/issues/60199/events",
  "html_url": "https://github.com/JuliaLang/julia/pull/60199",
  "id": 3653504573,
  "node_id": "PR_kwDOABkWpM607Gya",
  "number": 60199,
  "title": "Reject decimal points after hex float literals",
  "user": {
    "login": "Keno",
    "id": 1291671,
    "node_id": "MDQ6VXNlcjEyOTE2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1291671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Keno",
    "html_url": "https://github.com/Keno",
    "followers_url": "https://api.github.com/users/Keno/followers",
    "following_url": "https://api.github.com/users/Keno/following{/other_user}",
    "gists_url": "https://api.github.com/users/Keno/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Keno/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Keno/subscriptions",
    "organizations_url": "https://api.github.com/users/Keno/orgs",
    "repos_url": "https://api.github.com/users/Keno/repos",
    "events_url": "https://api.github.com/users/Keno/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Keno/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 163368715,
      "node_id": "MDU6TGFiZWwxNjMzNjg3MTU=",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/parser",
      "name": "parser",
      "color": "bfdadc",
      "default": false,
      "description": "Language parsing and surface syntax"
    },
    {
      "id": 414648058,
      "node_id": "MDU6TGFiZWw0MTQ2NDgwNTg=",
      "url": "https://api.github.com/repos/JuliaLang/julia/labels/bugfix",
      "name": "bugfix",
      "color": "15ff91",
      "default": false,
      "description": "This change fixes an existing bug"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2025-11-22T00:38:44Z",
  "updated_at": "2025-11-22T04:19:08Z",
  "closed_at": "2025-11-22T04:19:06Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/JuliaLang/julia/pulls/60199",
    "html_url": "https://github.com/JuliaLang/julia/pull/60199",
    "diff_url": "https://github.com/JuliaLang/julia/pull/60199.diff",
    "patch_url": "https://github.com/JuliaLang/julia/pull/60199.patch",
    "merged_at": "2025-11-22T04:19:06Z"
  },
  "body": "Hex float literals like `0x1p3 `should not be allowed to be followed by decimal digits or decimal points, as this creates confusing implicit multiplication that looks like a malformed literal. This change makes the parser reject expressions like 0x1p3.2 (previously parsed as 0x1p3 * 0.2) as invalid numeric constants, consistent with the existing restriction on juxtaposing hex integer literals.\r\n\r\nFixes #60189. Written by Claude (obviously - since it's set as the author - trying out the new web thing).\r\n\r\nI figure this situation is rare enough and bad enough that we should just change this unconditionally across syntax versions, but if preferred, we could make use of syntax evolution for this (although we'd have to start versioning the lexer).",
  "reactions": {
    "url": "https://api.github.com/repos/JuliaLang/julia/issues/60199/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/JuliaLang/julia/issues/60199/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "score": 1.0,
  "files": [
    {
      "sha": "ac786f964d7d28c54f18255c8a99ef02cddfea62",
      "filename": "JuliaSyntax/src/julia/tokenize.jl",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/JuliaLang/julia/blob/59ff9f957b9bff31d34986d55521966a5452791d/JuliaSyntax%2Fsrc%2Fjulia%2Ftokenize.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/59ff9f957b9bff31d34986d55521966a5452791d/JuliaSyntax%2Fsrc%2Fjulia%2Ftokenize.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/JuliaSyntax%2Fsrc%2Fjulia%2Ftokenize.jl?ref=59ff9f957b9bff31d34986d55521966a5452791d",
      "patch": "@@ -1057,6 +1057,14 @@ function lex_digit(l::Lexer, kind)\n                 if !accept_number(l, isdigit) || !had_digits\n                     return emit(l, K\"ErrorInvalidNumericConstant\") # `0x1p` `0x.p0`\n                 end\n+                # Check for invalid trailing decimal point\n+                # https://github.com/JuliaLang/julia/issues/60189\n+                pc = peekchar(l)\n+                if pc == '.'\n+                    accept_batch(l, c->(c == '.' || isdigit(c)))\n+                    # `0x1p3.` `0x1p3.2` `0x1.5p2.3`\n+                    return emit(l, K\"ErrorInvalidNumericConstant\")\n+                end\n             elseif isfloat\n                 return emit(l, K\"ErrorHexFloatMustContainP\") # `0x.` `0x1.0`\n             end"
    },
    {
      "sha": "0e0c4f7ad5d69af74c4da8a90386c29f00d2437d",
      "filename": "JuliaSyntax/test/tokenize.jl",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/JuliaLang/julia/blob/59ff9f957b9bff31d34986d55521966a5452791d/JuliaSyntax%2Ftest%2Ftokenize.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/59ff9f957b9bff31d34986d55521966a5452791d/JuliaSyntax%2Ftest%2Ftokenize.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/JuliaSyntax%2Ftest%2Ftokenize.jl?ref=59ff9f957b9bff31d34986d55521966a5452791d",
      "patch": "@@ -632,6 +632,10 @@ end\n     @test onlytok(\"0x.p0\") == K\"ErrorInvalidNumericConstant\"\n     @test onlytok(\"0x.\")   == K\"ErrorHexFloatMustContainP\"\n     @test onlytok(\"0x1.0\") == K\"ErrorHexFloatMustContainP\"\n+    # https://github.com/JuliaLang/julia/issues/60189\n+    @test onlytok(\"0x1p3.\") == K\"ErrorInvalidNumericConstant\"\n+    @test onlytok(\"0x1p3.2\") == K\"ErrorInvalidNumericConstant\"\n+    @test onlytok(\"0x1.5p2.3\") == K\"ErrorInvalidNumericConstant\"\n end\n \n @testset \"binary literals\" begin"
    },
    {
      "sha": "36cb07514592b61dc1b407a3e1cf85b2b642a5b7",
      "filename": "test/syntax.jl",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/JuliaLang/julia/blob/59ff9f957b9bff31d34986d55521966a5452791d/test%2Fsyntax.jl",
      "raw_url": "https://github.com/JuliaLang/julia/raw/59ff9f957b9bff31d34986d55521966a5452791d/test%2Fsyntax.jl",
      "contents_url": "https://api.github.com/repos/JuliaLang/julia/contents/test%2Fsyntax.jl?ref=59ff9f957b9bff31d34986d55521966a5452791d",
      "patch": "@@ -1684,6 +1684,9 @@ end\n # #16356\n @test_parseerror \"0xapi\"\n \n+# #60189\n+@test_parseerror \"0x1p3.2\"\n+\n # #22523 #22712\n @test_parseerror \"a?b:c\"\n @test_parseerror \"a ?b:c\""
    }
  ]
}